frontend:
  base-url: http://localhost:8084/
  route-url: http://frontend:8084

spring:
  cloud:
    gateway:
      server:
        webflux:
          routes:
            # micro-services
            - id: patient-service
              uri: http://patient-service:8081
              predicates:
                - Path=/api/patients/**
              filters:
                - StripPrefix=1
            - id: notes-service
              uri: http://notes-service:8082
              predicates:
                - Path=/api/notes/**
              filters:
                - StripPrefix=1
            - id: report-service
              uri: http://report-service:8083
              predicates:
                - Path=/api/report/**
              filters:
                - StripPrefix=1

            # front end
            - id: frontend-dashboard
              uri: ${frontend.route-url}
              predicates:
                - Path=/dashboard/**
            - id: patient-pages
              uri: ${frontend.route-url}
              predicates:
                - Path=/patients/**
            - id: notes-pages
              uri: ${frontend.route-url}
              predicates:
                - Path=/notes/**
            - id: report-pages
              uri: ${frontend.route-url}
              predicates:
                - Path=/report/**

            # ressources
            - id: frontend-static
              uri: ${frontend.route-url}
              predicates:
                - Path=/static/**
            - id: frontend-js
              uri: ${frontend.route-url}
              predicates:
                - Path=/js/**
            - id: frontend-css
              uri: ${frontend.route-url}
              predicates:
                - Path=/css/**
            - id: frontend-images
              uri: ${frontend.route-url}
              predicates:
                - Path=/img/**